<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <!--Adding current credit and credit limit of the partner in partner edit screen-->
    <t t-name="ClientDetailsEdit" t-inherit="point_of_sale.PartnerDetailsEdit"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//input[hasclass('partner-name')]" position="after">
            <div class="client-details-box clearfix">
                <div class='client-details-right mb-3'
                     style="font-size: initial;">
                    <div class='client-detail'>
                        <span class='label'>Credit</span>
                        <t t-if="props.partner.credit">
                            <span class='detail credit' style="padding-left:5px;">
                                <t t-esc='props.partner.credit'/>
                            </span>
                        </t>
                        <t t-else="">
                            <span class='detail credit empty' style="padding-left:5px;">
                                <t t-esc='props.partner.credit'/>
                            </span>
                        </t>
                    </div>
                </div>
                <div class='client-details-left mb-3'
                     style="font-size: initial;">
                    <div class='client-detail'>
                        <span class='label'>Limit</span>
                        <t t-if="props.partner.partner_block_credit">
                            <span class='detail credit' style="padding-left:5px;">
                                <t t-esc='props.partner.blocking_credit_limit'/>
                            </span>
                        </t>
                        <t t-else="">
                            <span class='detail credit empty' style="padding-left:5px;">N/A</span>
                        </t>
                    </div>
                </div>
            </div>
        </xpath>
    </t>
    <!--Adding current credit and credit limit of the partner in partner list screen-->
    <t t-name="ClientListScreen" t-inherit="point_of_sale.PartnerListScreen"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//table[hasclass('partner-list')]//th[last()]"
               position="after">
            <th style="text-align: center;">Credit</th>
            <th style="text-align: center;">Max Credit Limit</th>
        </xpath>
    </t>
    <!--Displaying active credit and credit limit of the partner in partner line screen-->
    <t t-name="ClientLine" t-inherit="point_of_sale.PartnerLine"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//tr/td[last()]" position="after">
            <td t-attf-class="client-credit_limit" style="text-align: center;">
                <t t-if="props.partner.show_credit_limit">
                    <t t-if="props.partner.credit">
                        <t t-esc="props.partner.credit"/>
                    </t>
                    <t t-if="!props.partner.credit">
                        <span>0</span>
                    </t>
                </t>
                <t t-else="">
                        <span>N/A</span>
                </t>
            </td>
            <td t-attf-class="client-blocking_credit_limit" style="text-align: center;">
                <t t-if="props.partner.show_credit_limit">
                    <t t-if="props.partner.partner_block_credit">
                        <t t-if="props.partner.partner_block_credit &lt;= props.partner.credit">
                            <span style="color:red;">
                                <t t-esc='props.partner.blocking_credit_limit'/>
                            </span>
                        </t>
                        <t t-elif="props.partner.partner_block_credit &gt; props.partner.credit">
                            <t t-esc='props.partner.blocking_credit_limit'/>
                        </t>
                    </t>
                    <t t-else="">
                        <span>N/A</span>
                    </t>
                </t>
                <t t-else="">
                    <span>N/A</span>
                </t>
            </td>
        </xpath>
    </t>
</templates>
