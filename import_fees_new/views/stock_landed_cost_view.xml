<odoo>
    <data>
        <!-- explicit list view definition -->
        <record model="ir.ui.view" id="import_fees.stock_landed_cost_form">
            <field name="name">stock.form</field>
            <field name="model">stock.landed.cost</field>
            <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_form"/>
            <field name="arch" type="xml">
                <xpath expr="//header/button[2]" position="after">
                    <field name="create_landed_bill" invisible="True"/>
                    <button name="button_create_landed_bill" string="Create Landed Cost Bill" type="object" invisible="not create_landed_bill"/>
                </xpath>
                <field name="picking_ids" position="attributes">
                    <attribute name="required">True</attribute>
                </field>
                <field name="vendor_bill_id" position="after">
                    <field name="vendor_bill_ids" widget="many2many_tags"/>
                </field>
                <field name="vendor_bill_id" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>
                <xpath expr="//notebook" position="before">
                    <group>
                        <field name="received_products_ids">
                            <tree>
                                <field name="product_id" class="wsnw"/>
                                <field name="vendor_country_id" optional="hide"/>
                                <field name="is_domestic" widget="badge" decoration-secondary="is_domestic == 'domestic'" decoration-primary="is_domestic == 'international'"/>
                                <field name="hs_code_id" widget="many2one"/>
                                <field name="quantity"/>
                                <field name="currency_id" optional="hide" column_invisible="True"/>
                                <field name="currency_rate" optional="show"/>
                                <field name="local_currency_id" optional="hide" column_invisible="True"/>
                                <field name="price_unit" widget="monetary"/>
                                <field name="price_total" widget="monetary"/>
                                <field name="local_price_total" widget="monetary" optional="hide"/>
                            </tree>
                        </field>
                    </group>
                    <group class="oe_subtotal_footer">
                        <field name="amount_local_currency" string="Total" options="{'widget': 'monetary', 'align': 'right'}"/>
                    </group>
                </xpath>
                <xpath expr="//page[1]//group[@class='oe_subtotal_footer']/button" position="replace">
                    <field name="should_compute_valuation_adjustment_lines" invisible="True"/>
                    <button colspan="2" name="compute_landed_cost" string="Compute" type="object" invisible="state != 'draft' or should_compute_valuation_adjustment_lines" class="float-end btn-secondary"/>
                    <button colspan="2" name="compute_landed_cost" string="Compute" type="object" invisible="state != 'draft' or not should_compute_valuation_adjustment_lines" class="float-end btn-primary"/>
                </xpath>
                <xpath expr="//page[1]" position="before">
                    <page string="Customs Duties" name="customs_duties">
                        <group>
                            <field name="should_calc_customs_fees" invisible="True"/>
                            <field name="customs_fees_dirty" invisible="True"/>
                            <button colspan="2" name="calc_customs_fees" string="Calculate Customs Duties" type="object" invisible="state != 'draft' or not should_calc_customs_fees or customs_fees_dirty" class="btn-secondary"/>
                            <button colspan="2" name="calc_customs_fees" string="Calculate Customs Duties" type="object" invisible="state != 'draft' or not should_calc_customs_fees or not customs_fees_dirty" class="btn-primary"/>

                        </group>
                        <group>
                            <field name="customs_fees_ids">
                                <tree create="false" editable="top" delete="false" string="Customs Duties">
                                    <field name="harmonized_code_id" readonly="1"/>
                                    <field name="rate" widget="percentage" readonly="1" optional="show"/>
                                    <field name="local_currency_id" readonly="1" optional="hide"/>
                                    <field name="cif_value" decoration-bf="is_edited_cif" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="com_value" invisible="not is_com_visible" decoration-bf="is_edited_com" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="exm_value" invisible="not is_exm_visible" decoration-bf="is_edited_exm" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="cid_value" invisible="not is_cid_visible" decoration-bf="is_edited_cid" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="surcharge_value" invisible="not is_surcharge_visible" decoration-bf="is_edited_surcharge" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="eic_value" invisible="not is_eic_visible" decoration-bf="is_edited_eic" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="pal_value" invisible="not is_pal_visible" decoration-bf="is_edited_pal" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="cess_levy_value" invisible="not is_cess_levy_visible" decoration-bf="is_edited_cess_levy" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="excise_duty_value" invisible="not is_excise_duty_visible" decoration-bf="is_edited_excise_duty" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="ridl_value" invisible="not is_ridl_visible" decoration-bf="is_edited_ridl" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="srl_value" invisible="not is_srl_visible" decoration-bf="is_edited_srl" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="sscl_value" invisible="not is_sscl_visible" decoration-bf="is_edited_sscl" optional="hide" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="vat_value" invisible="not is_vat_visible" decoration-bf="is_edited_vat" optional="show" readonly="state == 'done' or not landed_costs_id.should_calc_customs_fees"/>
                                    <field name="amount" readonly="1" string="Customs Duties"/>
                                    <field name="state" optional="hide"/>
                                    <field name="edited_fields" column_invisible="True"/>
                                    <field name="landed_costs_id" column_invisible="True"/>
                                    <field name="is_edited_cif" column_invisible="True"/>
                                    <field name="is_edited_com" column_invisible="True"/>
                                    <field name="is_edited_exm" column_invisible="True"/>
                                    <field name="is_edited_cid" column_invisible="True"/>
                                    <field name="is_edited_surcharge" column_invisible="True"/>
                                    <field name="is_edited_eic" column_invisible="True"/>
                                    <field name="is_edited_pal" column_invisible="True"/>
                                    <field name="is_edited_cess_levy" column_invisible="True"/>
                                    <field name="is_edited_excise_duty" column_invisible="True"/>
                                    <field name="is_edited_ridl" column_invisible="True"/>
                                    <field name="is_edited_srl" column_invisible="True"/>
                                    <field name="is_edited_sscl" column_invisible="True"/>
                                    <field name="is_edited_vat" column_invisible="True"/>
                                    <field name="is_com_visible" column_invisible="True"/>
                                    <field name="is_exm_visible" column_invisible="True"/>
                                    <field name="is_cid_visible" column_invisible="True"/>
                                    <field name="is_surcharge_visible" column_invisible="True"/>
                                    <field name="is_eic_visible" column_invisible="True"/>
                                    <field name="is_pal_visible" column_invisible="True"/>
                                    <field name="is_cess_levy_visible" column_invisible="True"/>
                                    <field name="is_excise_duty_visible" column_invisible="True"/>
                                    <field name="is_ridl_visible" column_invisible="True"/>
                                    <field name="is_srl_visible" column_invisible="True"/>
                                    <field name="is_sscl_visible" column_invisible="True"/>
                                    <field name="is_vat_visible" column_invisible="True"/>
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer">
                                <field name="customs_value" widget="monetary"/>
                                <field name="customs_vat_value" widget="monetary"/>
                                <field name="total_customs_value" widget="monetary"/>
                            </group>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//tree/field[@name='cost_line_id']" position="attributes">
                    <attribute name="optional">hidden</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='weight']" position="before">
                    <field name="cost_line_product_id"/>
                </xpath>
                <xpath expr="//tree/field[@name='additional_landed_cost']" position="attributes">
                    <attribute name="digits">[12, 2]</attribute>
                </xpath>
                <xpath expr="//notebook/page/field/tree/field[@name='price_unit']" position="attributes">
                    <attribute name="digits">[12, 2]</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='former_cost']" position="attributes">
                    <attribute name="optional">hidden</attribute>
                </xpath>
                <xpath expr="//tree/field[@name='final_cost']" position="attributes">
                    <attribute name="optional">hidden</attribute>
                </xpath>

            </field>
        </record>


        <!-- explicit list view definition -->
        <record model="ir.ui.view" id="import_fees.stock_landed_cost_list">
            <field name="name">stock.landed.cost.list</field>
            <field name="model">stock.landed.cost</field>
            <field name="inherit_id" ref="stock_landed_costs.view_stock_landed_cost_tree"/>
            <field name="arch" type="xml">
                <field name="name" position="after" invisible="not show_importfees">
                    <field name="amount_local_currency" options="{'widget': 'monetary', 'align': 'right'}"/>
                    <field name="stevedoring" widget="monetary" optional="hide"/>
                    <field name="demurrage" widget="monetary" optional="hide"/>
                    <field name="transport" widget="monetary" optional="hide"/>
                    <field name="storage" widget="monetary" optional="hide"/>
                    <field name="bank" widget="monetary" optional="hide"/>
                    <field name="miscellaneous" widget="monetary" optional="hide"/>
                    <field name="royalty_fee" widget="monetary" optional="hide"/>
                    <field name="freight" widget="monetary" optional="hide"/>
                    <field name="clearance" widget="monetary" optional="hide"/>
                    <field name="transit" widget="monetary" optional="hide"/>
                    <field name="insurance" widget="monetary" optional="hide"/>
                    <field name="shipping" widget="monetary" optional="hide"/>
                    <field name="other" widget="monetary" optional="hide"/>
                    <field name="royalty_fee_info" widget="monetary" optional="hide"/>
                    <field name="declared_value" widget="monetary"/>
                    <field name="customs_value" widget="monetary"/>
                </field>
            </field>
        </record>

        <record id="view_recalculate_wizard_form" model="ir.ui.view">
            <field name="name">import_fees.recalculate.wizard.form</field>
            <field name="model">import_fees.recalculate.wizard</field>
            <field name="arch" type="xml">
                <form string="Recalculate Customs Fees">
                    <field name="cif_value_and_other_value_edited" invisible="True"/>
                    <p>Customs fees have already been calculated. Do you want to recalculate them?</p>
                    <p invisible="not cif_value_and_other_value_edited">CIF value and other values have not been edited. Only CIF value will be used in the calculation.</p>
                    <footer>
                        <button name="action_recalculate" string="Recalculate" type="object" class="btn-primary"/>
                        <button name="action_cancel" string="Cancel" type="object" class="btn-secondary"/>
                    </footer>
                </form>
            </field>
        </record>
    </data>
</odoo>
