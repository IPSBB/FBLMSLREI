<?xml version="1.0" encoding="UTF-8"?>
<templates id="pos_template" inherit_id="point_of_sale.template" xml:space="preserve">

	<t t-name="pos_disable_payments.ProductScreen" t-inherit="point_of_sale.ProductScreen" t-inherit-mode="extension">
		<xpath expr="//div/div[hasclass('rightpane')]/t/div[2]" position="replace">
			<div class="switchpane d-flex h-12">
				<t t-if="pos.get_cashier().is_allow_payments">
	                <button class="btn-switchpane pay-button btn w-50 rounded-0 fw-bolder" t-attf-class="{{ primaryPayButton ? 'btn-primary' : 'btn-secondary' }}" t-on-click="() => currentOrder.pay()">
	                    <span class="fs-1 d-block">Pay</span>
	                    <span><t t-esc="total" /></span>
	                </button>
	            </t>
	            <t t-else="">
	            	<button class="btn-switchpane pay-button btn w-50 rounded-0 fw-bolder disabled" t-attf-class="{{ primaryPayButton ? 'btn-primary' : 'btn-secondary' }}" t-on-click="() => currentOrder.pay()">
	                    <span class="fs-1 d-block">Pay</span>
	                    <span><t t-esc="total" /></span>
	                </button>
	            </t>

                <button class="btn-switchpane btn w-50 btn-secondary rounded-0 fw-bolder review-button" t-on-click="switchPane">
                    <span class="fs-1 d-block">Review</span>
                    <span><t t-esc="items"/> items</span>
                </button>
            </div>
		</xpath>

	</t>
    <t t-name="pos_disable_payments.ActionpadWidget" t-inherit="point_of_sale.ActionpadWidget" t-inherit-mode="extension">
    	<xpath expr="//button[hasclass('pay','validation','pay-order-button')]" position="replace">
    		<t t-if="pos.get_cashier().is_allow_payments">
				<t t-if="!pos.config.module_pos_restaurant">
	    			<button class="pay validation pay-order-button btn-primary"
		                t-attf-class="{{getMainButtonClasses()}}" 
		                t-att-class="{ 'with-more-button': props.onClickMore and ui.isSmall }" 
		                t-on-click="props.actionToTrigger ? this.props.actionToTrigger : () => pos.get_order().pay()">
		                <div class="pay-circle d-flex align-items-center justify-content-center py-2 mb-2">
		                    <i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
		                </div>
		                <t class="text-white" t-esc="props.actionName" />
		            </button>
		        </t>
    		</t>
    		<t t-else="">
    			<t t-if="!pos.config.module_pos_restaurant">
	    			<button class="pay validation pay-order-button btn-primary disabled"
		                t-attf-class="{{getMainButtonClasses()}}" 
		                t-att-class="{ 'with-more-button': props.onClickMore and ui.isSmall }" 
		                t-on-click="props.actionToTrigger ? this.props.actionToTrigger : () => pos.get_order().pay()">
		                <div class="pay-circle d-flex align-items-center justify-content-center py-2 mb-2">
		                    <i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
		                </div>
		                <t class="text-white" t-esc="props.actionName" />
		            </button>
		        </t>
    		</t>
    	</xpath>

    	<xpath expr="//button[hasclass('pay-order-button')]" position="replace">
    		<t t-if="pos.get_cashier().is_allow_payments">
    			<button t-if="this.swapButton"
	                t-on-click="() => pos.get_order().pay()" 
	                class="button pay-order-button btn btn-lg rounded-0" 
	                t-attf-class="{{ this.highlightPay ? 'highlight btn-primary' : 'btn-secondary' }}" 
	                >
	                <i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
	                Payment
	            </button>
    		</t>
    		<t t-else="">
    			<button t-if="this.swapButton"
	                t-on-click="() => pos.get_order().pay()" 
	                class="button pay-order-button btn btn-lg rounded-0 disabled" 
	                t-attf-class="{{ this.highlightPay ? 'highlight btn-primary' : 'btn-secondary' }}" 
	                >
	                <i class="oi oi-chevron-right" role="img" aria-label="Pay" title="Pay" />
	                Payment
	            </button>
    		</t>
    	</xpath>
    	<xpath expr="//button[hasclass('set-partner')]" position="replace">
    		<t t-if="!pos.config.module_pos_restaurant">
	    		<t t-if="pos.get_cashier().is_allow_customer_selection">
	    			<button class="button set-partner btn btn-light rounded-0 py-2 flex-shrink-1 fw-bolder"
	                    t-on-click="() => this.pos.selectPartner()">
	                <div class="d-flex justify-content-center align-items-center ">
		                    <span class="d-flex justify-content-center align-items-center rounded-circle me-2 text-bg-dark" t-if="!ui.isSmall">
		                        <i class="fa fa-user" role="img" aria-label="Customer" title="Customer" />
		                    </span>
		                    <div t-if="props.partner" class="text-truncate fw-bolder text-action">
		                        <t t-esc="props.partner.name" />
		                    </div>
		                    <div t-else="fw-bolder">
		                        Customer
		                    </div>
		                </div>
		            </button>
	    		</t>
	    		<t t-else="">
	    			<button class="button set-partner disabled btn btn-light rounded-0 py-2 flex-shrink-1 fw-bolder"
	                    t-on-click="() => this.pos.selectPartner()">
		                <div class="d-flex justify-content-center align-items-center ">
		                    <span class="d-flex justify-content-center align-items-center rounded-circle me-2 text-bg-dark" t-if="!ui.isSmall">
		                        <i class="fa fa-user" role="img" aria-label="Customer" title="Customer" />
		                    </span>
		                    <div t-if="props.partner" class="text-truncate fw-bolder text-action">
		                        <t t-esc="props.partner.name" />
		                    </div>
		                    <div t-else="fw-bolder">
		                        Customer
		                    </div>
		                </div>
		            </button>
	    		</t>
	    	</t>
    	</xpath>
    	

    </t>
    <t t-name="CustomerButtonsInherit" t-inherit="point_of_sale.CustomerButton" t-inherit-mode="extension" owl="1">
    	<xpath expr="//div[hasclass('customer-button')]" position="replace">
    		<t t-if="pos.get_cashier().is_allow_customer_selection">
    			<div class="control-button customer-button btn rounded-0 fw-bolder text-truncate" t-attf-class="{{this.partner ? 'btn-primary' : 'btn-light'}}" t-on-click="() => this.pos.selectPartner()">
		            <i class="fa fa-user me-1" role="img" aria-label="Customer" title="Customer" />
		            <t t-esc="this.partner.name" t-if="this.partner" />
		            <t t-else="">
		                Customer
		            </t>
		        </div>
    		</t>
    		<t t-else="">
    			<div class="control-button customer-button btn rounded-0 fw-bolder text-truncate disabled" t-attf-class="{{this.partner ? 'btn-primary' : 'btn-light'}}" t-on-click="() => this.pos.selectPartner()">
		            <i class="fa fa-user me-1" role="img" aria-label="Customer" title="Customer" />
		            <t t-esc="this.partner.name" t-if="this.partner" />
		            <t t-else="">
		                Customer
		            </t>
		        </div>
    		</t>
    	</xpath>
    </t>


    

	<t t-name="PaymentScreenButtons" t-inherit="point_of_sale.PaymentScreenButtons" t-inherit-mode="extension" owl="1">
		<xpath expr="//button[hasclass('partner-button')]" position="replace">
			<t t-if="env.services.pos.get_cashier().is_allow_customer_selection">
				<button class="button partner-button btn btn-light py-3 text-start rounded-0 border-bottom" 
					t-att-class="{ 'highlight text-bg-primary': currentOrder.get_partner() }" 
					t-on-click="() => this.selectPartner(false, [])">
					<i class="fa fa-user me-2" role="img" title="Customer" />
					<span class="partner-name">
						<t t-if="currentOrder.get_partner()" t-esc="currentOrder.get_partner().name"/>
						<t t-else="">Customer</t>
					</span> 
				</button>
			</t>
			<t t-else="">
				<button class="button partner-button btn btn-light py-3 text-start disabled rounded-0 border-bottom" 
					t-att-class="{ 'highlight text-bg-primary': currentOrder.get_partner() }" 
					t-on-click="() => this.selectPartner(false, [])">
					<i class="fa fa-user me-2" role="img" title="Customer" />
					<span class="partner-name">
						<t t-if="currentOrder.get_partner()" t-esc="currentOrder.get_partner().name"/>
						<t t-else="">Customer</t>
					</span> 
				</button>
			</t>
		</xpath>
	</t>

	<t t-name="DiscountButton" t-inherit="pos_discount.DiscountButton" t-inherit-mode="extension" owl="1">
		<xpath expr="//span[hasclass('js_discount')]" position="replace">
			<t t-if="pos.get_cashier().is_allow_discount">
				<span class="control-button js_discount btn btn-light rounded-0 fw-bolder" t-on-click="() => this.click()">
		            <i class="fa fa-tag me-1"></i>
		            <span> </span>
		            <span>Discount</span>
		        </span>
			</t>
			<t t-else="">
				<span class="control-button js_discount disabled btn btn-light rounded-0 fw-bolder" t-on-click="() => this.click()">
		            <i class="fa fa-tag me-1"></i>
		            <span> </span>
		            <span>Discount</span>
		        </span>
			</t>
		</xpath>
	</t>

	<t t-name="SplitBillScreen" t-inherit="pos_restaurant.SplitBillScreen" t-inherit-mode="extension" owl="1">
		<xpath expr="//div[hasclass('pay-button')]" position="replace">
			<t t-if="pos.get_cashier().is_allow_payments">
				<div class="pay-button m-3">
                        <div class="button btn btn-lg btn-secondary py-3 w-100" t-on-click="proceed">
                            <i class="oi oi-chevron-right me-2" />
                            <span>Payment</span>
                        </div>
                    </div>
			</t>
			<t t-else="">
				<div class="pay-button m-3">
	                <div class="button btn btn-lg btn-secondary py-3 w-100 disabled" t-on-click="proceed">
	                    <i class="oi oi-chevron-right me-2" />
	                    <span>Payment</span>
	                </div>
	            </div>
			</t>
		</xpath>
	</t>



</templates>




