<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Create services purchase orders -->
        
        <!-- Canada Purchase Services -->
        <record id="demo_po_customs_nafta" model="purchase.order">
            <field name="partner_id" ref="demo_vendor_customs"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">purchase</field>
            <field name="date_order" eval="(datetime.now() - relativedelta(days=11)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=6)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="name">DEMO-PO-NAFTA-CUSTOMS</field>
            <field name="currency_id" ref="base.USD"/>
            <field name="origin">DEMO-PO-NAFTA</field>
        </record>
        
        <!-- Service lines for Canada -->
        <record id="demo_po_line_customs_nafta_duty" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_nafta"/>
            <field name="product_id" ref="customs"/>
            <field name="name">Customs duties - Canada Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">600.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=7)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_nafta_clearance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_nafta"/>
            <field name="product_id" ref="clearance"/>
            <field name="name">Clearance - Canada Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">150.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=7)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_nafta_freight" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_nafta"/>
            <field name="product_id" ref="freight"/>
            <field name="name">Freight - Canada Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">350.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=7)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <!-- EU Purchase Services -->
        <record id="demo_po_customs_eu" model="purchase.order">
            <field name="partner_id" ref="demo_vendor_customs"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">purchase</field>
            <field name="date_order" eval="(datetime.now() - relativedelta(days=10)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=5)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="name">DEMO-PO-EU-CUSTOMS</field>
            <field name="currency_id" ref="base.USD"/>
            <field name="origin">DEMO-PO-EU</field>
        </record>
        
        <!-- Service lines for EU -->
        <record id="demo_po_line_customs_eu_duty" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_eu"/>
            <field name="product_id" ref="customs"/>
            <field name="name">Customs duties - EU Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">2040.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=6)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_eu_shipping" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_eu"/>
            <field name="product_id" ref="shipping"/>
            <field name="name">Shipping - EU Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">950.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=6)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_eu_clearance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_eu"/>
            <field name="product_id" ref="clearance"/>
            <field name="name">Clearance - EU Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">250.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=6)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <!-- Asia Purchase Services -->
        <record id="demo_po_customs_asia" model="purchase.order">
            <field name="partner_id" ref="demo_vendor_customs"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">purchase</field>
            <field name="date_order" eval="(datetime.now() - relativedelta(days=9)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=4)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="name">DEMO-PO-ASIA-CUSTOMS</field>
            <field name="currency_id" ref="base.USD"/>
            <field name="origin">DEMO-PO-ASIA</field>
        </record>
        
        <!-- Service lines for Asia -->
        <record id="demo_po_line_customs_asia_duty" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_asia"/>
            <field name="product_id" ref="customs"/>
            <field name="name">Customs duties - Asia Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">3800.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=5)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_asia_freight" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_asia"/>
            <field name="product_id" ref="freight"/>
            <field name="name">Freight - Asia Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">1650.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=5)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_asia_clearance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_asia"/>
            <field name="product_id" ref="clearance"/>
            <field name="name">Clearance - Asia Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">280.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=5)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <!-- Japan Network Equipment Purchase Services -->
        <record id="demo_po_customs_network" model="purchase.order">
            <field name="partner_id" ref="demo_vendor_customs"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">purchase</field>
            <field name="date_order" eval="(datetime.now() - relativedelta(days=8)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="name">DEMO-PO-NETWORK-CUSTOMS</field>
            <field name="currency_id" ref="base.USD"/>
            <field name="origin">DEMO-PO-NETWORK</field>
        </record>
        
        <!-- Service lines for Japan -->
        <record id="demo_po_line_customs_network_duty" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_network"/>
            <field name="product_id" ref="customs"/>
            <field name="name">Customs duties - Japan Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">2850.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=4)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_network_shipping" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_network"/>
            <field name="product_id" ref="shipping"/>
            <field name="name">Shipping - Japan Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">1250.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=4)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_network_insurance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_network"/>
            <field name="product_id" ref="insurance"/>
            <field name="name">Insurance - Japan Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">320.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=4)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <!-- Brazil Agricultural Equipment Purchase Services -->
        <record id="demo_po_customs_south_america" model="purchase.order">
            <field name="partner_id" ref="demo_vendor_customs"/>
            <field name="user_id" ref="base.user_admin"/>
            <field name="state">purchase</field>
            <field name="date_order" eval="(datetime.now() - relativedelta(days=7)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=2)).strftime('%Y-%m-%d %H:%M:%S')"/>
            <field name="company_id" ref="base.main_company"/>
            <field name="name">DEMO-PO-SOUTH-AMERICA-CUSTOMS</field>
            <field name="currency_id" ref="base.USD"/>
            <field name="origin">DEMO-PO-SOUTH-AMERICA</field>
        </record>
        
        <!-- Service lines for Brazil -->
        <record id="demo_po_line_customs_south_america_duty" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_south_america"/>
            <field name="product_id" ref="customs"/>
            <field name="name">Customs duties - Brazil Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">12750.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_south_america_freight" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_south_america"/>
            <field name="product_id" ref="freight"/>
            <field name="name">Freight - Brazil Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">4850.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_south_america_insurance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_south_america"/>
            <field name="product_id" ref="insurance"/>
            <field name="name">Insurance - Brazil Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">950.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <record id="demo_po_line_customs_south_america_clearance" model="purchase.order.line">
            <field name="order_id" ref="demo_po_customs_south_america"/>
            <field name="product_id" ref="clearance"/>
            <field name="name">Clearance - Brazil Import</field>
            <field name="product_qty">1</field>
            <field name="product_uom" ref="uom.product_uom_unit"/>
            <field name="price_unit">750.00</field>
            <field name="date_planned" eval="(datetime.now() - relativedelta(days=3)).strftime('%Y-%m-%d %H:%M:%S')"/>
        </record>
        
        <!-- Confirm customs purchase orders -->
        <function model="purchase.order" name="button_confirm">
            <value eval="[ref('demo_po_customs_nafta'), ref('demo_po_customs_eu'), ref('demo_po_customs_asia'), ref('demo_po_customs_network'), ref('demo_po_customs_south_america')]"/>
        </function>
        
        <!-- For service products, manually mark them as received -->
        <function model="purchase.order.line" name="write">
            <value model="purchase.order.line" search="[('order_id', '=', ref('demo_po_customs_nafta'))]"/>
            <value eval="{'qty_received': 1}"/>
        </function>
        <function model="purchase.order.line" name="write">
            <value model="purchase.order.line" search="[('order_id', '=', ref('demo_po_customs_eu'))]"/>
            <value eval="{'qty_received': 1}"/>
        </function>
        <function model="purchase.order.line" name="write">
            <value model="purchase.order.line" search="[('order_id', '=', ref('demo_po_customs_asia'))]"/>
            <value eval="{'qty_received': 1}"/>
        </function>
        <function model="purchase.order.line" name="write">
            <value model="purchase.order.line" search="[('order_id', '=', ref('demo_po_customs_network'))]"/>
            <value eval="{'qty_received': 1}"/>
        </function>
        <function model="purchase.order.line" name="write">
            <value model="purchase.order.line" search="[('order_id', '=', ref('demo_po_customs_south_america'))]"/>
            <value eval="{'qty_received': 1}"/>
        </function>
        
        <!-- Create invoices from customs purchase orders -->
        <function model="purchase.order" name="action_create_invoice">
            <value eval="[ref('demo_po_customs_nafta')]"/>
        </function>
        <function model="purchase.order" name="action_create_invoice">
            <value eval="[ref('demo_po_customs_eu')]"/>
        </function>
        <function model="purchase.order" name="action_create_invoice">
            <value eval="[ref('demo_po_customs_asia')]"/>
        </function>
        <function model="purchase.order" name="action_create_invoice">
            <value eval="[ref('demo_po_customs_network')]"/>
        </function>
        <function model="purchase.order" name="action_create_invoice">
            <value eval="[ref('demo_po_customs_south_america')]"/>
        </function>
        
        <!-- Set invoice dates -->
        <function model="account.move" name="write">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-NAFTA-CUSTOMS')]"/>
            <value eval="{'invoice_date': time.strftime('%Y-%m-%d')}"/>
        </function>
        <function model="account.move" name="write">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-EU-CUSTOMS')]"/>
            <value eval="{'invoice_date': time.strftime('%Y-%m-%d')}"/>
        </function>
        <function model="account.move" name="write">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-ASIA-CUSTOMS')]"/>
            <value eval="{'invoice_date': time.strftime('%Y-%m-%d')}"/>
        </function>
        <function model="account.move" name="write">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-NETWORK-CUSTOMS')]"/>
            <value eval="{'invoice_date': time.strftime('%Y-%m-%d')}"/>
        </function>
        <function model="account.move" name="write">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-SOUTH-AMERICA-CUSTOMS')]"/>
            <value eval="{'invoice_date': time.strftime('%Y-%m-%d')}"/>
        </function>
        
        <!-- Post the invoices -->
        <function model="account.move" name="action_post">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-NAFTA-CUSTOMS')]"/>
        </function>
        <function model="account.move" name="action_post">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-EU-CUSTOMS')]"/>
        </function>
        <function model="account.move" name="action_post">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-ASIA-CUSTOMS')]"/>
        </function>
        <function model="account.move" name="action_post">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-NETWORK-CUSTOMS')]"/>
        </function>
        <function model="account.move" name="action_post">
            <value model="account.move" search="[('invoice_origin', '=', 'DEMO-PO-SOUTH-AMERICA-CUSTOMS')]"/>
        </function>
    </data>
</odoo>
